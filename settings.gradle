include ':app'
//include 'kernel-log'
//project(":kernel-log").projectDir = file("kernel/kernel-log")
include 'module-framework'
project(":module-framework").projectDir = file("modules/module-framework")

//def includeModule(String moduleName,String path){
//    include moduleName
//    project(":$moduleName").projectDir = file("$path/$moduleName")
//}
//
//includeModule("module-framwork","modules")
//includeModule("kernel-task","kernel")

def includeModulesInPath(String path){
    file(path).eachDir { dir ->
        if(dir.listFiles().any{ it.isFile() && it.name == "build.gradle" }){
            include dir.name
            project(":${dir.name}").projectDir = dir
        }
    }
}

includeModulesInPath('kernel')
includeModulesInPath('libs')
includeModulesInPath('modules')

